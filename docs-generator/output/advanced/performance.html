<h1 id="performance">Performance</h1>
<p>StreamDingo is designed for high-performance event sourcing scenarios with careful attention to memory allocations and throughput.</p>
<h2 id="performance-targets">Performance Targets</h2>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Target Performance</th>
</tr>
</thead>
<tbody>
<tr>
<td>Event Append</td>
<td>&gt;100,000 events/second</td>
</tr>
<tr>
<td>Event Replay</td>
<td>&gt;500,000 events/second</td>
</tr>
<tr>
<td>Memory Usage</td>
<td>&lt;1GB for 1M events with snapshots</td>
</tr>
<tr>
<td>Latency (P99)</td>
<td>&lt;1ms for single operations</td>
</tr>
</tbody>
</table>
<h2 id="benchmarks">Benchmarks</h2>
<p>StreamDingo includes a comprehensive benchmark suite using BenchmarkDotNet. You can run the benchmarks to see performance on your hardware:</p>
<pre><code class="language-bash">cd benchmarks/StreamDingo.Benchmarks
dotnet run --configuration Release
</code></pre>
<h2 id="performance-tips">Performance Tips</h2>
<h3 id="event-design">Event Design</h3>
<ul>
<li>Keep events small and focused</li>
<li>Use value types where possible</li>
<li>Avoid deep object hierarchies in events</li>
</ul>
<h3 id="handler-optimization">Handler Optimization</h3>
<ul>
<li>Make event handlers pure functions</li>
<li>Avoid expensive operations in handlers</li>
<li>Use immutable data structures</li>
</ul>
<h3 id="storage-considerations">Storage Considerations</h3>
<ul>
<li>Choose appropriate storage providers for your use case</li>
<li>Consider using snapshot intervals to balance replay speed vs storage</li>
<li>Monitor memory usage with large event streams</li>
</ul>
<h2 id="monitoring-performance">Monitoring Performance</h2>
<h3 id="memory-profiling">Memory Profiling</h3>
<p>Use tools like:</p>
<ul>
<li>dotMemory</li>
<li>PerfView</li>
<li>Application Insights</li>
</ul>
<h3 id="throughput-monitoring">Throughput Monitoring</h3>
<ul>
<li>Track events per second metrics</li>
<li>Monitor replay times</li>
<li>Set up alerts for performance regressions</li>
</ul>
<h2 id="continuous-performance-testing">Continuous Performance Testing</h2>
<p>StreamDingo includes automated performance regression detection in CI/CD. Each pull request automatically:</p>
<ol>
<li>Runs benchmarks on the PR branch</li>
<li>Compares against the main branch baseline</li>
<li>Reports performance changes in the PR description</li>
<li>Flags significant regressions for review</li>
</ol>
<p>See <a href="benchmarks.md">Benchmarks</a> for more details on the benchmark infrastructure.</p>
